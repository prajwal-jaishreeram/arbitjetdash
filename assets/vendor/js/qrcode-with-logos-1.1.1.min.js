!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.QrCodeWithLogo=e():t.QrCodeWithLogo=e()}(window,function(){return r=[function(t,e){let r,n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||40<t)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return n[t]},e.getBCHDigit=function(t){let e=0;for(;0!==t;)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');r=t},e.isKanjiModeEnabled=function(){return void 0!==r},e.toSJIS=function(t){return r(t)}},function(t,n,e){let r=e(4),o=e(5);n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(r.isValid(e))return 1<=e&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2];throw new Error("Invalid version: "+e)},n.getBestModeForData=function(t){return o.testNumeric(t)?n.NUMERIC:o.testAlphanumeric(t)?n.ALPHANUMERIC:o.testKanji(t)?n.KANJI:n.BYTE},n.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},n.isValid=function(t){return t&&t.bit&&t.ccBits},n.from=function(t,e){if(n.isValid(t))return t;try{var r=t;if("string"!=typeof r)throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+r)}}catch(t){return e}}},function(t,n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2},n.isValid=function(t){return t&&void 0!==t.bit&&0<=t.bit&&t.bit<4},n.from=function(t,e){if(n.isValid(t))return t;try{var r=t;if("string"!=typeof r)throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+r)}}catch(t){return e}}},function(t,e,r){let n=r(2),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case n.L:return o[4*(t-1)+0];case n.M:return o[4*(t-1)+1];case n.Q:return o[4*(t-1)+2];case n.H:return o[4*(t-1)+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case n.L:return i[4*(t-1)+0];case n.M:return i[4*(t-1)+1];case n.Q:return i[4*(t-1)+2];case n.H:return i[4*(t-1)+3];default:return}}},function(t,e){e.isValid=function(t){return!isNaN(t)&&1<=t&&t<=40}},function(t,e){let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";var n="(?:(?![A-Z0-9 $%*+\\-./:]|"+(r=r.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";e.KANJI=new RegExp(r,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=new RegExp(n,"g"),e.NUMERIC=new RegExp("[0-9]+","g"),e.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");let o=new RegExp("^"+r+"$"),i=new RegExp("^[0-9]+$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return o.test(t)},e.testNumeric=function(t){return i.test(t)},e.testAlphanumeric=function(t){return a.test(t)}},function(t,p){function o(t){if("string"!=typeof(t="number"==typeof t?t.toString():t))throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||8<e.length)throw new Error("Invalid hex color: "+t);6===(e=3!==e.length&&4!==e.length?e:Array.prototype.concat.apply([],e.map(function(t){return[t,t]}))).length&&e.push("F","F");t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:255&t,hex:"#"+e.slice(0,6).join("")}}p.getOptions=function(t){(t=t||{}).color||(t.color={});var e=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,r=t.width&&21<=t.width?t.width:void 0,n=t.scale||4;return{width:r,scale:r?4:n,margin:e,color:{dark:o(t.color.dark||"#000000ff"),light:o(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},p.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},p.getImageWidth=function(t,e){var r=p.getScale(t,e);return Math.floor((t+2*e.margin)*r)},p.qrToImageData=function(n,t,o){var i=t.modules.size,a=t.modules.data,s=p.getScale(i,o),u=Math.floor((i+2*o.margin)*s),c=o.margin*s,l=[o.color.light,o.color.dark];for(let r=0;r<u;r++)for(let e=0;e<u;e++){var d,h,f=4*(r*u+e);let t=o.color.light;r>=c&&e>=c&&r<u-c&&e<u-c&&(d=Math.floor((r-c)/s),h=Math.floor((e-c)/s),t=l[a[d*i+h]?1:0]),n[f++]=t.r,n[f++]=t.g,n[f++]=t.b,n[f]=t.a}}},function(t,e,r){let u=r(9),c=r(10);var n=r(28);let o=r(29);function i(n,o,i,a,e){var t=[].slice.call(arguments,1),r=t.length,t="function"==typeof t[r-1];if(!t&&!u())throw new Error("Callback required as last argument");if(!t){if(r<1)throw new Error("Too few arguments provided");return 1===r?(i=o,o=a=void 0):2!==r||o.getContext||(a=i,i=o,o=void 0),new Promise(function(t,e){try{var r=c.create(i,a);t(n(r,o,a))}catch(t){e(t)}})}if(r<2)throw new Error("Too few arguments provided");2===r?(e=i,i=o,o=a=void 0):3===r&&(o.getContext&&void 0===e?(e=a,a=void 0):(e=a,a=i,i=o,o=void 0));try{var s=c.create(i,a);e(null,n(s,o,a))}catch(t){e(t)}}e.create=c.create,e.toCanvas=i.bind(null,n.render),e.toDataURL=i.bind(null,n.renderToDataURL),e.toString=i.bind(null,function(t,e,r){return o.render(t,r)})},function(t){t.exports=JSON.parse('{"a":"1.1.0"}')},function(t,e){t.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},function(t,e,r){let S=r(0),i=r(2),n=r(11),T=r(12),A=r(13),B=r(14),_=r(15),I=r(3),M=r(16),N=r(19),s=r(20),o=r(1),z=r(21);function L(t,e,r){var n=t.size,o=s.getEncodedBits(e,r);let i,a;for(i=0;i<15;i++)a=1==(o>>i&1),i<6?t.set(i,8,a,!0):i<8?t.set(i+1,8,a,!0):t.set(n-15+i,8,a,!0),i<8?t.set(8,n-i-1,a,!0):i<9?t.set(8,15-i-1+1,a,!0):t.set(8,15-i-1,a,!0);t.set(n-8,8,1,!0)}function k(b,C,P){let E=new n;P.forEach(function(t){E.put(t.mode.bit,4),E.put(t.getLength(),o.getCharCountIndicator(t.mode,b)),t.write(E)});P=8*(S.getSymbolTotalCodewords(b)-I.getTotalCodewordsCount(b,C));for(E.getLengthInBits()+4<=P&&E.put(0,4);E.getLengthInBits()%8!=0;)E.putBit(0);var e=(P-E.getLengthInBits())/8;for(let t=0;t<e;t++)E.put(t%2?17:236,8);{P=E;var x=b;let t=S.getSymbolTotalCodewords(x),e=I.getTotalCodewordsCount(x,C),r=t-e,n=I.getBlocksCount(x,C),o=t%n,i=n-o,a=Math.floor(t/n),s=Math.floor(r/n),u=s+1,c=a-s,l=new M(c),d=0,h=new Array(n),f=new Array(n),p=0,g=new Uint8Array(P.buffer);for(let t=0;t<n;t++){var R=t<i?s:u;h[t]=g.slice(d,d+R),f[t]=l.encode(h[t]),d+=R,p=Math.max(p,R)}let v=new Uint8Array(t),w=0,y,m;for(y=0;y<p;y++)for(m=0;m<n;m++)y<h[m].length&&(v[w++]=h[m][y]);for(y=0;y<c;y++)for(m=0;m<n;m++)v[w++]=f[m][y];return v}}function a(e,r,n,t){let o;if(Array.isArray(e))o=z.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");{let t=r;t||(a=z.rawSplit(e),t=N.getBestVersionForData(a,n)),o=z.fromString(e,t||40)}}var a=N.getBestVersionForData(o,n);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(r){if(r<a)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+a+".\n")}else r=a;var e=k(r,n,o),a=S.getSymbolSize(r),a=new T(a),i=a,s=r,u=i.size,c=B.getPositions(s);for(let t=0;t<c.length;t++){var l=c[t][0],d=c[t][1];for(let e=-1;e<=7;e++)if(!(l+e<=-1||u<=l+e))for(let t=-1;t<=7;t++)d+t<=-1||u<=d+t||(0<=e&&e<=6&&(0===t||6===t)||0<=t&&t<=6&&(0===e||6===e)||2<=e&&e<=4&&2<=t&&t<=4?i.set(l+e,d+t,!0,!0):i.set(l+e,d+t,!1,!0))}var h=a,f=h.size;for(let t=8;t<f-8;t++){var p=t%2==0;h.set(t,6,p,!0),h.set(6,t,p,!0)}var g=a,s=r,v=A.getPositions(s);for(let t=0;t<v.length;t++){var w=v[t][0],y=v[t][1];for(let e=-2;e<=2;e++)for(let t=-2;t<=2;t++)-2===e||2===e||-2===t||2===t||0===e&&0===t?g.set(w+e,y+t,!0,!0):g.set(w+e,y+t,!1,!0)}if(L(a,n,0),7<=r){var m,b,C,P=a,s=r,E=P.size,x=N.getEncodedBits(s);for(let t=0;t<18;t++)m=Math.floor(t/3),b=t%3+E-8-3,C=1==(x>>t&1),P.set(m,b,C,!0),P.set(b,m,C,!0)}{var R=a,I=e,M=R.size;let t=-1,n=M-1,o=7,i=0;for(let r=M-1;0<r;r-=2)for(6===r&&r--;;){for(let e=0;e<2;e++)if(!R.isReserved(n,r-e)){let t=!1;i<I.length&&(t=1==(I[i]>>>o&1)),R.set(n,r-e,t),-1===--o&&(i++,o=7)}if((n+=t)<0||M<=n){n-=t,t=-t;break}}}return isNaN(t)&&(t=_.getBestMask(a,L.bind(null,a,n))),_.applyMask(t,a),L(a,n,t),{modules:a,version:r,errorCorrectionLevel:n,maskPattern:t,segments:o}}e.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");let r=i.M,n,o;return void 0!==e&&(r=i.from(e.errorCorrectionLevel,i.M),n=N.from(e.version),o=_.from(e.maskPattern),e.toSJISFunc)&&S.setToSJISFunction(e.toSJISFunc),a(t,n,r,o)}},function(t,e){function r(){this.buffer=[],this.length=0}r.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(e,r){for(let t=0;t<r;t++)this.putBit(1==(e>>>r-t-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=r},function(t,e){function r(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}r.prototype.set=function(t,e,r,n){t=t*this.size+e;this.data[t]=r,n&&(this.reservedBit[t]=!0)},r.prototype.get=function(t,e){return this.data[t*this.size+e]},r.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r},r.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},t.exports=r},function(t,e,r){let o=r(0).getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];var e=Math.floor(t/7)+2,t=o(t),r=145===t?26:2*Math.ceil((t-13)/(2*e-2)),n=[t-7];for(let t=1;t<e-1;t++)n[t]=n[t-1]-r;return n.push(6),n.reverse()},e.getPositions=function(t){var r=[],n=e.getRowColCoords(t),o=n.length;for(let e=0;e<o;e++)for(let t=0;t<o;t++)0===e&&0===t||0===e&&t===o-1||e===o-1&&0===t||r.push([n[e],n[t]]);return r}},function(t,e,r){let n=r(0).getSymbolSize;e.getPositions=function(t){t=n(t);return[[0,0],[t-7,0],[0,t-7]]}},function(t,s){s.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};let l={N1:3,N2:3,N3:40,N4:10};s.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&0<=t&&t<=7},s.from=function(t){return s.isValid(t)?parseInt(t,10):void 0},s.getPenaltyN1=function(r){var n=r.size;let o=0,i=0,a=0,s=null,u=null;for(let e=0;e<n;e++){i=a=0,s=u=null;for(let t=0;t<n;t++){var c=r.get(e,t);c===s?i++:(5<=i&&(o+=l.N1+(i-5)),s=c,i=1),(c=r.get(t,e))===u?a++:(5<=a&&(o+=l.N1+(a-5)),u=c,a=1)}5<=i&&(o+=l.N1+(i-5)),5<=a&&(o+=l.N1+(a-5))}return o},s.getPenaltyN2=function(r){var n=r.size;let o=0;for(let e=0;e<n-1;e++)for(let t=0;t<n-1;t++){var i=r.get(e,t)+r.get(e,t+1)+r.get(e+1,t)+r.get(e+1,t+1);4!==i&&0!==i||o++}return o*l.N2},s.getPenaltyN3=function(r){var n=r.size;let o=0,i=0,a=0;for(let e=0;e<n;e++)for(let t=i=a=0;t<n;t++)i=i<<1&2047|r.get(e,t),10<=t&&(1488===i||93===i)&&o++,a=a<<1&2047|r.get(t,e),10<=t&&(1488===a||93===a)&&o++;return o*l.N3},s.getPenaltyN4=function(e){let r=0;var n=e.data.length;for(let t=0;t<n;t++)r+=e.data[t];return Math.abs(Math.ceil(100*r/n/5)-10)*l.N4},s.applyMask=function(r,n){var o=n.size;for(let e=0;e<o;e++)for(let t=0;t<o;t++)n.isReserved(t,e)||n.xor(t,e,function(t,e,r){switch(t){case s.Patterns.PATTERN000:return(e+r)%2==0;case s.Patterns.PATTERN001:return e%2==0;case s.Patterns.PATTERN010:return r%3==0;case s.Patterns.PATTERN011:return(e+r)%3==0;case s.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case s.Patterns.PATTERN101:return e*r%2+e*r%3==0;case s.Patterns.PATTERN110:return(e*r%2+e*r%3)%2==0;case s.Patterns.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}(r,t,e))},s.getBestMask=function(e,r){var n=Object.keys(s.Patterns).length;let o=0,i=1/0;for(let t=0;t<n;t++){r(t),s.applyMask(t,e);var a=s.getPenaltyN1(e)+s.getPenaltyN2(e)+s.getPenaltyN3(e)+s.getPenaltyN4(e);s.applyMask(t,e),a<i&&(i=a,o=t)}return o}},function(t,e,r){let n=r(17);function o(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}o.prototype.initialize=function(t){this.degree=t,this.genPoly=n.generateECPolynomial(this.degree)},o.prototype.encode=function(t){var e,r;if(this.genPoly)return(e=new Uint8Array(t.length+this.degree)).set(t),t=n.mod(e,this.genPoly),0<(e=this.degree-t.length)?((r=new Uint8Array(this.degree)).set(t,e),r):t;throw new Error("Encoder not initialized")},t.exports=o},function(t,n,e){let i=e(18);n.mul=function(r,n){var o=new Uint8Array(r.length+n.length-1);for(let e=0;e<r.length;e++)for(let t=0;t<n.length;t++)o[e+t]^=i.mul(r[e],n[t]);return o},n.mod=function(t,e){let r=new Uint8Array(t);for(;0<=r.length-e.length;){var n=r[0];for(let t=0;t<e.length;t++)r[t]^=i.mul(e[t],n);let t=0;for(;t<r.length&&0===r[t];)t++;r=r.slice(t)}return r},n.generateECPolynomial=function(e){let r=new Uint8Array([1]);for(let t=0;t<e;t++)r=n.mul(r,new Uint8Array([1,i.exp(t)]));return r}},function(t,e){let r=new Uint8Array(512),n=new Uint8Array(256);{let e=1;for(let t=0;t<255;t++)r[t]=e,n[e]=t,256&(e<<=1)&&(e^=285);for(let t=255;t<512;t++)r[t]=r[t-255]}e.log=function(t){if(t<1)throw new Error("log("+t+")");return n[t]},e.exp=function(t){return r[t]},e.mul=function(t,e){return 0===t||0===e?0:r[n[t]+n[e]]}},function(t,a,e){let o=e(0),i=e(3),s=e(2),u=e(1),c=e(4),r=o.getBCHDigit(7973);function l(t,e){return u.getCharCountIndicator(t,e)+4}function d(e,r){for(let t=1;t<=40;t++)if(function(t,r){let n=0;return t.forEach(function(t){var e=l(t.mode,r);n+=e+t.getBitsLength()}),n}(e,t)<=a.getCapacity(t,r,u.MIXED))return t}a.from=function(t,e){return c.isValid(t)?parseInt(t,10):e},a.getCapacity=function(t,e,r){if(!c.isValid(t))throw new Error("Invalid QR Code version");void 0===r&&(r=u.BYTE);e=8*(o.getSymbolTotalCodewords(t)-i.getTotalCodewordsCount(t,e));if(r===u.MIXED)return e;var n=e-l(r,t);switch(r){case u.NUMERIC:return Math.floor(n/10*3);case u.ALPHANUMERIC:return Math.floor(n/11*2);case u.KANJI:return Math.floor(n/13);default:u.BYTE;return Math.floor(n/8)}},a.getBestVersionForData=function(t,e){let r;e=s.from(e,s.M);if(Array.isArray(t)){if(1<t.length)return d(t,e);if(0===t.length)return 1;r=t[0]}else r=t;var n=r.mode,o=r.getLength(),i=e;for(let t=1;t<=40;t++)if(o<=a.getCapacity(t,i,n))return t},a.getEncodedBits=function(t){if(!c.isValid(t)||t<7)throw new Error("Invalid QR Code version");let e=t<<12;for(;0<=o.getBCHDigit(e)-r;)e^=7973<<o.getBCHDigit(e)-r;return t<<12|e}},function(t,e,r){let n=r(0),o=n.getBCHDigit(1335);e.getEncodedBits=function(t,e){t=t.bit<<3|e;let r=t<<10;for(;0<=n.getBCHDigit(r)-o;)r^=1335<<n.getBCHDigit(r)-o;return 21522^(t<<10|r)}},function(t,i,e){let d=e(1),o=e(22),a=e(23),s=e(24),u=e(26),c=e(5),l=e(0),h=e(27);function f(t){return unescape(encodeURIComponent(t)).length}function p(t,e,r){for(var n,o=[];null!==(n=t.exec(r));)o.push({data:n[0],index:n.index,mode:e,length:n[0].length});return o}function g(t){var e=p(c.NUMERIC,d.NUMERIC,t),r=p(c.ALPHANUMERIC,d.ALPHANUMERIC,t);let n,o;return o=l.isKanjiModeEnabled()?(n=p(c.BYTE,d.BYTE,t),p(c.KANJI,d.KANJI,t)):(n=p(c.BYTE_KANJI,d.BYTE,t),[]),e.concat(r,n,o).sort(function(t,e){return t.index-e.index}).map(function(t){return{data:t.data,mode:t.mode,length:t.length}})}function v(t,e){switch(e){case d.NUMERIC:return o.getBitsLength(t);case d.ALPHANUMERIC:return a.getBitsLength(t);case d.KANJI:return u.getBitsLength(t);case d.BYTE:return s.getBitsLength(t)}}function r(t,e){let r;var n=d.getBestModeForData(t);if((r=d.from(e,n))!==d.BYTE&&r.bit<n.bit)throw new Error('"'+t+'" cannot be encoded with mode '+d.toString(r)+".\n Suggested mode is: "+d.toString(n));switch(r=r!==d.KANJI||l.isKanjiModeEnabled()?r:d.BYTE){case d.NUMERIC:return new o(t);case d.ALPHANUMERIC:return new a(t);case d.KANJI:return new u(t);case d.BYTE:return new s(t)}}i.fromArray=function(t){return t.reduce(function(t,e){return"string"==typeof e?t.push(r(e,null)):e.data&&t.push(r(e.data,e.mode)),t},[])},i.fromString=function(t,e){var r=function(t,r){var n={},o={start:{}};let i=["start"];for(let e=0;e<t.length;e++){var a=t[e],s=[];for(let t=0;t<a.length;t++){var u=a[t],c=""+e+t;s.push(c),n[c]={node:u,lastCount:0},o[c]={};for(let t=0;t<i.length;t++){var l=i[t];n[l]&&n[l].node.mode===u.mode?(o[l][c]=v(n[l].lastCount+u.length,u.mode)-v(n[l].lastCount,u.mode),n[l].lastCount+=u.length):(n[l]&&(n[l].lastCount=u.length),o[l][c]=v(u.length,u.mode)+4+d.getCharCountIndicator(u.mode,r))}}i=s}for(let t=0;t<i.length;t++)o[i[t]].end=0;return{map:o,table:n}}(function(e){var r=[];for(let t=0;t<e.length;t++){var n=e[t];switch(n.mode){case d.NUMERIC:r.push([n,{data:n.data,mode:d.ALPHANUMERIC,length:n.length},{data:n.data,mode:d.BYTE,length:n.length}]);break;case d.ALPHANUMERIC:r.push([n,{data:n.data,mode:d.BYTE,length:n.length}]);break;case d.KANJI:r.push([n,{data:n.data,mode:d.BYTE,length:f(n.data)}]);break;case d.BYTE:r.push([{data:n.data,mode:d.BYTE,length:f(n.data)}])}}return r}(g(t,l.isKanjiModeEnabled())),e),n=h.find_path(r.map,"start","end"),o=[];for(let t=1;t<n.length-1;t++)o.push(r.table[n[t]].node);return i.fromArray(o.reduce(function(t,e){var r=0<=t.length-1?t[t.length-1]:null;return r&&r.mode===e.mode?t[t.length-1].data+=e.data:t.push(e),t},[]))},i.rawSplit=function(t){return i.fromArray(g(t,l.isKanjiModeEnabled()))}},function(t,e,r){let n=r(1);function o(t){this.mode=n.NUMERIC,this.data=t.toString()}o.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){let e,r,n;for(e=0;e+3<=this.data.length;e+=3)r=this.data.substr(e,3),n=parseInt(r,10),t.put(n,10);var o=this.data.length-e;0<o&&(r=this.data.substr(e),n=parseInt(r,10),t.put(n,3*o+1))},t.exports=o},function(t,e,r){let n=r(1),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(t){this.mode=n.ALPHANUMERIC,this.data=t}i.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){var r=45*o.indexOf(this.data[e]);r+=o.indexOf(this.data[e+1]),t.put(r,11)}this.data.length%2&&t.put(o.indexOf(this.data[e]),6)},t.exports=i},function(t,e,r){let n=r(25),o=r(1);function i(t){this.mode=o.BYTE,"string"==typeof t&&(t=n(t)),this.data=new Uint8Array(t)}i.getBitsLength=function(t){return 8*t},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(r){for(let t=0,e=this.data.length;t<e;t++)r.put(this.data[t],8)},t.exports=i},function(t,e,r){t.exports=function(t){for(var e=[],r=t.length,n=0;n<r;n++){var o,i=t.charCodeAt(n);55296<=i&&i<=56319&&n+1<r&&56320<=(o=t.charCodeAt(n+1))&&o<=57343&&(i=1024*(i-55296)+o-56320+65536,n+=1),i<128?e.push(i):i<2048?(e.push(i>>6|192),e.push(63&i|128)):i<55296||57344<=i&&i<65536?(e.push(i>>12|224),e.push(i>>6&63|128),e.push(63&i|128)):65536<=i&&i<=1114111?(e.push(i>>18|240),e.push(i>>12&63|128),e.push(i>>6&63|128),e.push(63&i|128)):e.push(239,191,189)}return new Uint8Array(e).buffer}},function(t,e,r){let n=r(1),o=r(0);function i(t){this.mode=n.KANJI,this.data=t}i.getBitsLength=function(t){return 13*t},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let r;for(r=0;r<this.data.length;r++){let t=o.toSJIS(this.data[r]);if(33088<=t&&t<=40956)t-=33088;else{if(!(57408<=t&&t<=60351))throw new Error("Invalid SJIS character: "+this.data[r]+"\nMake sure your charset is UTF-8");t-=49472}t=192*(t>>>8&255)+(255&t),e.put(t,13)}},t.exports=i},function(t,e,r){var f={single_source_shortest_paths:function(t,e,r){var n,o,i,a,s,u,c,l={},d={},h=(d[e]=0,f.PriorityQueue.make());for(h.push(e,0);!h.empty();)for(i in o=(n=h.pop()).value,a=n.cost,s=t[o]||{})s.hasOwnProperty(i)&&(u=a+s[i],void 0===(c=d[i])||u<c)&&(h.push(i,d[i]=u),l[i]=o);if(void 0!==r&&void 0===d[r])throw e=["Could not find a path from ",e," to ",r,"."].join(""),new Error(e);return l},extract_shortest_path_from_predecessor_list:function(t,e){for(var r=[],n=e;n;)r.push(n),t[n],n=t[n];return r.reverse(),r},find_path:function(t,e,r){t=f.single_source_shortest_paths(t,e,r);return f.extract_shortest_path_from_predecessor_list(t,r)},PriorityQueue:{make:function(t){var e,r=f.PriorityQueue,n={};for(e in t=t||{},r)r.hasOwnProperty(e)&&(n[e]=r[e]);return n.queue=[],n.sorter=t.sorter||r.default_sorter,n},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){this.queue.push({value:t,cost:e}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=f},function(t,o,e){let a=e(6);o.render=function(t,e,r){let n=r,o=e;void 0!==n||e&&e.getContext||(n=e,e=void 0),e||(o=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),n=a.getOptions(n);var r=a.getImageWidth(t.modules.size,n),e=o.getContext("2d"),i=e.createImageData(r,r);return a.qrToImageData(i.data,t,n),t=o,r=r,e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=r,t.width=r,t.style.height=r+"px",t.style.width=r+"px",e.putImageData(i,0,0),o},o.renderToDataURL=function(t,e,r){let n=r;void 0!==n||e&&e.getContext||(n=e,e=void 0),n=n||{};r=o.render(t,e,n),t=n.type||"image/png",e=n.rendererOpts||{};return r.toDataURL(t,e.quality)}},function(t,e,r){let a=r(6);function s(t,e){var r=t.a/255,t=e+'="'+t.hex+'"';return r<1?t+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':t}function l(t,e,r){let n=t+e;return void 0!==r&&(n+=" "+r),n}e.render=function(t,e,r){var e=a.getOptions(e),n=t.modules.size,t=t.modules.data,o=n+2*e.margin,i=e.color.light.a?"<path "+s(e.color.light,"fill")+' d="M0 0h'+o+"v"+o+'H0z"/>':"",t="<path "+s(e.color.dark,"stroke")+' d="'+function(e,r,n){let o="",i=0,a=!1,s=0;for(let t=0;t<e.length;t++){var u=Math.floor(t%r),c=Math.floor(t/r);u||(a=a||!0),e[t]?(s++,0<t&&0<u&&e[t-1]||(o+=a?l("M",u+n,.5+c+n):l("m",i,0),i=0,a=!1),u+1<r&&e[t+1]||(o+=l("h",s),s=0)):i++}return o}(t,n,e.margin)+'"/>',n='<svg xmlns="http://www.w3.org/2000/svg" '+(e.width?'width="'+e.width+'" height="'+e.width+'" ':"")+('viewBox="0 0 '+o+" "+o+'"')+' shape-rendering="crispEdges">'+i+t+"</svg>\n";return"function"==typeof r&&r(null,n),n}},function(k,t,e){e.r(t);var r=e(7),a=e.n(r),n=function(t,a,s,u){return new(s=s||Promise)(function(r,e){function n(t){try{i(u.next(t))}catch(t){e(t)}}function o(t){try{i(u.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?r(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(n,o)}i((u=u.apply(t,a||[])).next())})},s=function(n,o){var i,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function t(r){return function(t){var e=[r,t];if(i)throw new TypeError("Generator is already executing.");for(;u=c&&e[c=0]?0:u;)try{if(i=1,a&&(s=2&e[0]?a.return:e[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,e[1])).done)return s;switch(a=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,a=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3]))u.label=e[1];else if(6===e[0]&&u.label<s[1])u.label=s[1],s=e;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(e)}}e=o.call(n,u)}catch(t){e=[6,t],a=0}finally{i=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}}};function x(a){return function(t,e,r,n,o){var i=Math.min(r,n);return i/2<o&&(o=i/2),a.beginPath(),a.moveTo(t+o,e),a.arcTo(t+r,e,t+r,e+n,o),a.arcTo(t+r,e+n,t,e+n,o),a.arcTo(t,e+n,t,e,o),a.arcTo(t,e,t+r,e,o),a.closePath(),a}}function u(t){return"function"==typeof t}function c(o,i){return new Promise(function(t,e){try{var r=o.src,n=document.createElement("a");n.download=i,n.href=r,n.dispatchEvent(new MouseEvent("click")),t(!0)}catch(t){e(t)}})}var o=function(){return(o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},l="tile",d="dot",h="dot-small",f="rounded",p="diamond",g="star",v="fluid",w="fluid-line",y="stripe",m="stripe-row",D="stripe-column";function i(t){this._context=t.context,this._type=t.type,this.dotSize=t.dotSize}i.prototype.draw=function(t,e,r,n,o,i){var a,s=this._context;switch(this._type){case l:a=this._drawTile;break;case d:a=this._drawDot;break;case h:a=this._drawDotSmall;break;case f:a=this._drawRounded;break;case p:a=this._drawDiamond;break;case g:a=this._drawStar;break;case v:a=this._drawFluid;break;case w:a=this._drawFluidLine;break;case y:a=this._drawStripe;break;case m:a=this._drawStripeRow;break;case D:a=this._drawStripeColumn;break;default:a=this._drawSquare}a.call(this,{x:t,y:e,size:this.dotSize,context:s,getNeighbor:r,qrCanvas:n,i:o,j:i})},i.prototype._drawSquare=function(t){var e=t.x,r=t.y,n=t.size,t=t.context;this._basicSquare({x:e,y:r,size:n,context:t,rotation:0})},i.prototype._basicSquare=function(t){var e=t.size,r=t.context;this._rotateFigure(o(o({},t),{draw:function(){r.rect(-e/2,-e/2,e,e)}}))},i.prototype._drawDot=function(t){this._drawBasicDot(t)},i.prototype._drawDotSmall=function(t){this._drawBasicDot(o(o({},t),{dotRate:.3}))},i.prototype._drawBasicDot=function(t){var e=t.x,r=t.y,n=t.size,o=t.context,t=t.dotRate,t=void 0===t?.4:t,e=e+n/2,r=r+n/2;o.beginPath(),o.arc(e,r,n*t,0,2*Math.PI),o.closePath(),o.fill()},i.prototype._drawRounded=function(t){var e=t.x,r=t.y,n=t.size,t=t.context,e=(e+=1/8*(n*=.75))+n/2,r=(r+=1/8*n)+n/2,o=-n/2;t.translate(e,r),x(t)(o,o,n,n,n/4),t.fill(),t.translate(-e,-r)},i.prototype._drawTile=function(t){var e=t.size,r=t.context;this._rotateFigure(o(o({},t),{draw:function(){r.rect(-e/2,-e/2,e-1,e-1)}}))},i.prototype._drawDiamond=function(t){var e=t.size,r=t.context;this._rotateFigure(o(o({},t),{rotation:Math.PI/4,draw:function(){e=.5*e/Math.sin(Math.PI/4),r.rect(-e/2,-e/2,e,e)}}))},i.prototype._drawStar=function(t){var e=t.size,r=t.context;this._rotateFigure(o(o({},t),{rotation:Math.PI/4,draw:function(){r.moveTo(-e/2,-e/2),r.quadraticCurveTo(0,0,e/2,-e/2),r.quadraticCurveTo(0,0,e/2,e/2),r.quadraticCurveTo(0,0,-e/2,e/2),r.quadraticCurveTo(0,0,-e/2,-e/2)}}))},i.prototype._drawFluidLine=function(t){this._drawFluid(t,!0)},i.prototype._drawFluid=function(t,e){var r=t.x,n=t.y,o=t.size,i=t.context,t=t.getNeighbor,a=(void 0===e&&(e=!1),[!1,!1,!1,!1]),r=(t(0,-1)||t(-1,0)||(a[0]=!0),t(1,0)||t(0,-1)||(a[1]=!0),t(0,1)||t(1,0)||(a[2]=!0),t(0,1)||t(-1,0)||(a[3]=!0),r+o/2),n=n+o/2;i.translate(r,n),i.beginPath(),i.arc(0,0,o/2,0,2*Math.PI,!1),i.closePath(),i.fill(),a[0]||i.fillRect(-o/2,-o/2,o/2,o/2),a[1]||i.fillRect(0,-o/2,o/2,o/2),a[2]||i.fillRect(0,0,o/2,o/2),a[3]||i.fillRect(-o/2,0,o/2,o/2),e&&!t(0,1)&&(t(-1,1)&&(i.beginPath(),i.arc(-o,0,o/2,0,.5*Math.PI,!1),i.arc(0,o,o/2,Math.PI,1.5*Math.PI,!1),i.closePath(),i.stroke(),i.fill()),t(1,1))&&(i.beginPath(),i.arc(o,0,o/2,.5*Math.PI,Math.PI,!1),i.arc(0,o,o/2,1.5*Math.PI,0,!1),i.closePath(),i.stroke(),i.fill()),i.translate(-r,-n)},i.prototype._drawStripeColumn=function(t){return this._drawStripe(t,"column")},i.prototype._drawStripeRow=function(t){return this._drawStripe(t,"row")},i.prototype._drawStripe=function(t,e){var u=t.x,c=t.y,l=t.size,d=t.context,h=t.qrCanvas,f=t.i,p=t.j;function r(t,e){for(var r=u+l/2,n=c+l/2,o=(d.translate(r,n),d.beginPath(),1===t&&1===e?d.arc(0,0,l/4,0,2*Math.PI,!1):1<t?(d.arc(0,0,l/4,.5*Math.PI,1.5*Math.PI,!1),d.arc(l*(t-1),0,l/4,1.5*Math.PI,.5*Math.PI,!1)):1<e&&(d.arc(0,0,l/4,Math.PI,2*Math.PI,!1),d.arc(0,l*(e-1),l/4,0,Math.PI,!1)),d.fill(),d.closePath(),d.translate(-r,-n),t),i=e,a=f;a<f+o;a++)for(var s=p;s<p+i;s++)h.setDisabled(a,s)}("row"===(e=void 0===e?"default":e)?[[3,1],[2,1],[1,1]]:"column"===e?[[1,3],[1,2],[1,1]]:[[3,1],[1,3],[2,1],[1,2],[1,1]]).forEach(function(t){!function(t,e){for(var r=!0,n=f;n<f+t;n++){for(var o=p;o<p+e;o++)if(!h.isDark(n,o)){r=!1;break}if(!r)break}return r}(t[0],t[1])||r(t[0],t[1])})},i.prototype._rotateFigure=function(t){var e=t.x,r=t.y,n=t.size,o=t.context,i=t.rotation,i=void 0===i?0:i,t=t.draw,e=e+n/2,r=r+n/2;o.translate(e,r),i&&o.rotate(i),t(),o.closePath(),i&&o.rotate(-i),o.translate(-e,-r)};var U=i,q="rounded",F="circle",O="rounded-circle",j="circle-rounded",H="circle-diamond",Q="circle-star";function b(t,e,r){this.context=t,this.cornerType=e,this.color=r}b.prototype.draw=function(t){var e,r=t.radius,n=t.x,o=t.y,t=t.dotSize;switch(this.cornerType){case F:e=this._drawCircle;break;case q:e=this._drawRounded;break;case O:e=this._drawRoundedCircle;break;case j:e=this._drawCircleRounded;break;case H:e=this._drawCircleDiamond;break;case Q:e=this._drawCircleStar;break;default:e=this._drawSquare}e.call(this,{x:n,y:o,radius:r,dotSize:t})},b.prototype._drawRoundedCircle=function(t){var e=t.x,r=t.y,n=t.dotSize,t=t.radius,t="number"==typeof t?t:(null==t?void 0:t.outer)||n/2;this.drawRoundedSquare(n,e,r,7*n,t,!1,0),this.drawCircle(n,e+2*n,r+2*n,3*n,!0)},b.prototype._drawCircleRounded=function(t){var e=t.x,r=t.y,n=t.dotSize,t=t.radius,t=(this.drawCircle(n,e,r,7*n,!1),"number"==typeof t?t:(null==t?void 0:t.inner)||n/4);this.drawRoundedSquare(n,e+2*n,r+2*n,3*n,t,!0,0)},b.prototype._drawCircleDiamond=function(t){var e=t.x,r=t.y,t=t.dotSize;this.drawCircle(t,e,r,7*t,!1),this.drawRoundedSquare(t,e+2*t,r+2*t,3*t,0,!0,45*Math.PI/180)},b.prototype._drawCircleStar=function(t){var e=t.x,r=t.y,t=t.dotSize;this.drawCircle(t,e,r,7*t,!1),this.drawInnerStar(e+2*t,r+2*t,3*t)},b.prototype._drawSquare=function(t){var e=t.x,r=t.y,t=t.dotSize;return this._drawBasicRounded({x:e,y:r,dotSize:t,radius:0})},b.prototype._drawRounded=function(t){var e=t.x,r=t.y,n=t.dotSize,t=t.radius,o="number"==typeof t?t:(null==t?void 0:t.inner)||n/4,t="number"==typeof t?t:(null==t?void 0:t.outer)||n/2;return this._drawBasicRounded({x:e,y:r,dotSize:n,radius:{inner:o,outer:t}})},b.prototype._drawCircle=function(t){var e=t.x,r=t.y,t=t.dotSize;this.drawCircle(t,e,r,7*t,!1),this.drawCircle(t,e+2*t,r+2*t,3*t,!0)},b.prototype._drawBasicRounded=function(t){var e,r=t.x,n=t.y,o=t.dotSize,i=t.radius,t=t.rotation,t=void 0===t?0:t,a=Math.ceil(o),i="number"!=typeof i?(e=i.outer||0,i.inner||0):e=i;this.drawRoundedSquare(a,r,n,7*o,e,!1,t),this.drawRoundedSquare(a,r+=2*o,n+=2*o,3*o,i,!0,t)},b.prototype.drawCircle=function(t,e,r,n,o){var i=this.context,a=this.color;i.lineWidth=t,i.fillStyle=a,i.strokeStyle=a,r+=n/2,e+=n/2,n-=t,i.beginPath(),i.arc(e,r,n/2,0,2*Math.PI),i.stroke(),i.closePath(),o&&i.fill()},b.prototype.drawRoundedSquare=function(t,e,r,n,o,i,a){var s=this.context,u=this.color,u=(s.lineWidth=t,s.fillStyle=u,s.strokeStyle=u,r+=t/2,e+=t/2,n-=t,(o=(o=Array.isArray(o)?o:[o,o,o,o]).map(function(t){return(t=Math.min(t,n/2))<0?0:t}))[0]||0),t=o[1]||0,c=o[2]||0,o=o[3]||0,e=(s.beginPath(),e+n/2),r=r+n/2,l=-n/2;s.translate(e,r),a&&s.rotate(a),s.moveTo(l+u,l),s.lineTo(l+n-t,l),t&&s.quadraticCurveTo(l+n,l,l+n,l+t),s.lineTo(l+n,l+n-c),c&&s.quadraticCurveTo(l+n,l+n,l+n-c,l+n),s.lineTo(l+o,l+n),o&&s.quadraticCurveTo(l,l+n,l,l+n-o),s.lineTo(l,l+u),u&&s.quadraticCurveTo(l,l,l+u,l),s.closePath(),s.stroke(),i&&s.fill(),a&&s.rotate(-a),s.translate(-e,-r)},b.prototype.drawInnerStar=function(t,e,r){var n=this.context,t=t+r/2,e=e+r/2;n.translate(t,e),n.beginPath(),n.moveTo(-r/2,-r/2),n.quadraticCurveTo(0,-r/4,r/2,-r/2),n.quadraticCurveTo(r/4,0,r/2,r/2),n.quadraticCurveTo(0,r/4,-r/2,r/2),n.quadraticCurveTo(-r/4,0,-r/2,-r/2),n.closePath(),n.fill(),n.translate(-t,-e)};var J=b,R={bgColor:"#fff",borderWidth:10,crossOrigin:"anonymous",borderRadius:8,logoRadius:0},C=380,K=!1,P="qr-code.png",E={margin:4,color:{dark:"#000",light:"#fff"}},I={type:"square",color:"#000"},M={type:"square",color:"#000"},S=function(t,a,s,u){return new(s=s||Promise)(function(r,e){function n(t){try{i(u.next(t))}catch(t){e(t)}}function o(t){try{i(u.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?r(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(n,o)}i((u=u.apply(t,a||[])).next())})},T=function(n,o){var i,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function t(r){return function(t){var e=[r,t];if(i)throw new TypeError("Generator is already executing.");for(;u=c&&e[c=0]?0:u;)try{if(i=1,a&&(s=2&e[0]?a.return:e[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,e[1])).done)return s;switch(a=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,a=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3]))u.label=e[1];else if(6===e[0]&&u.label<s[1])u.label=s[1],s=e;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(e)}}e=o.call(n,u)}catch(t){e=[6,t],a=0}finally{i=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}}},Y=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},A=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],B=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],V={L:.07,M:.15,Q:.25,H:.3},W=(_.prototype.clear=function(){var t=this.context;t&&t.clearRect(0,0,this.canvas.width,this.canvas.height)},Object.defineProperty(_.prototype,"context",{get:function(){return this.canvas.getContext("2d")},enumerable:!1,configurable:!0}),_.prototype.saveQrdata=function(t){this.size=t.modules.size,this.version=t.version,this.qrcodeArray=t.modules.data;var t=this.options.nodeQrCodeOptions,t=(null==t?void 0:t.margin)||E.margin,e=this.size,r=(null==(r=this.options)?void 0:r.width)||C;this.dotSize=Math.floor((r-2*t)/e),this.offset=Math.floor((r-e*this.dotSize)/2)},_.prototype.init=function(){return S(this,void 0,void 0,function(){var e;return T(this,function(t){switch(t.label){case 0:return this.clear(),this.drawBackground(),[4,this.drawLogo()];case 1:return e=t.sent(),this.drawDots(),this.drawCorners(),e&&e.call(this),[2]}})})},_.prototype.drawLogo=function(){var t=null==(t=this.options)?void 0:t.logo;return t?this._drawLogo(t="string"==typeof t?{src:t}:t):Promise.resolve(null)},_.prototype._drawLogo=function(E){return S(this,void 0,void 0,function(){var o,i,a,s,u,c,l,d,h,f,p,g,v,w,y,m,b,C,P;return T(this,function(t){switch(t.label){case 0:return o=this.context,i=this.canvas,a=V[this.options.nodeQrCodeOptions.errorCorrectionLevel],a=Math.floor(a*a*this.size*this.size),y=E.src,u=E.bgColor,s=void 0===u?R.bgColor:u,u=E.borderWidth,u=void 0===u?R.borderWidth:u,c=E.crossOrigin,c=void 0===c?R.crossOrigin:c,f=E.borderRadius,l=void 0===f?R.borderRadius:f,f=E.logoRadius,d=void 0===f?R.logoRadius:f,[4,(e=y,r=c,(n=new Image).setAttribute("crossOrigin",r||"anonymous"),n.src=e,new Promise(function(t,e){n.onload=function(){t(n)},n.onerror=function(){e("logo load fail!")}}))];case 1:return h=t.sent(),f=h.width/h.height,y=Math.floor(Math.sqrt(this.dotSize*this.dotSize*a/f)),1<f?(w=(g=y)-2*u,v=Math.floor(w*f),p=v+2*u):(p=Math.floor(y*f),v=p-2*u,w=Math.floor(v/f),g=w+2*u),m=(this.size-Math.ceil(p/this.dotSize))/2,b=this.size-m-1,C=(this.size-Math.ceil(g/this.dotSize))/2,P=this.size-C-1,this.inLogoRange=function(t,e){return m<=t&&t<=b&&C<=e&&e<=P},[2,function(){var t,e=i.width/2,r=i.height/2;o.translate(e,r),x(o)(-p/2,-g/2,p,g,l),this.context.fillStyle=s,this.context.fill();d?(o.translate(-v/2,-w/2),(t=document.createElement("canvas")).width=v,t.height=w,t.getContext("2d").drawImage(h,0,0,v,w),x(o)(0,0,v,w,d),o.fillStyle=o.createPattern(t,"no-repeat"),o.fill(),o.translate(v/2-e,w/2-r)):(o.drawImage(h,-v/2,-w/2,v,w),o.translate(-e,-r))}]}var e,r,n})})},_.prototype.isDark=function(t,e){return 1===this.qrcodeArray[t+e*this.size]},_.prototype.isDisabled=function(t,e){return 2===this.qrcodeArray[t+e*this.size]},_.prototype.setDisabled=function(t,e){return this.qrcodeArray[t+e*this.size]=2},_.prototype.drawBackground=function(){var t=this.context,e=this.options.nodeQrCodeOptions,e=(null==(e=null==e?void 0:e.color)?void 0:e.light)||E.color.light;t&&(t.fillStyle=e,t.fillRect(0,0,this.canvas.width,this.canvas.height))},_.prototype.drawDots=function(){var t,o=this,e=this.context;if(e){for(var i=this.size,a=this.dotSize,s=this.offset,u=this.offset,c=function(t,e){var r;return!(null!=(r=A[t])&&r[e]||null!=(r=A[t-i+7])&&r[e]||null!=(r=A[t])&&r[e-i+7]||null!=(r=B[t])&&r[e]||null!=(r=B[t-i+7])&&r[e]||null!=(r=B[t])&&r[e-i+7]||o.inLogoRange&&o.inLogoRange(t,e))},l=new U({context:this.context,type:(null==(t=this.options.dotsOptions)?void 0:t.type)||I.type,dotSize:a}),r=(e.fillStyle=e.strokeStyle=(null==(t=this.options.dotsOptions)?void 0:t.color)||(null==(t=null==(t=this.options.nodeQrCodeOptions)?void 0:t.color)?void 0:t.dark)||I.color,function(n){for(var t=0;t<i;t++)!function(r){c(n,r)&&d.isDark(n,r)&&l.draw(s+n*a,u+r*a,function(t,e){return!(n+t<0||r+e<0||i<=n+t||i<=r+e)&&c(n+t,r+e)?o.isDark(n+t,r+e):null},d,n,r)}(t)}),d=this,n=0;n<i;n++)r(n);e.fill()}},_.prototype.drawCorners=function(){var o,t,i,e,a,s,u,c=this;this.context&&(t=(null==(o=this.options.nodeQrCodeOptions)?void 0:o.margin)||E.margin,i=this.size,e=this.options.width||C,a=Math.floor((e-2*t)/i),s=Math.floor((e-i*a)/2),u=Math.floor((e-i*a)/2),[[0,0],[1,0],[0,1]].forEach(function(t){var e,t=Y(t,2),r=t[0],t=t[1],r=s+r*a*(i-7),t=u+t*a*(i-7),n=c.options.cornersOptions;new J(c.context,n.type||M.type,n.color||(null==(e=null==o?void 0:o.color)?void 0:e.dark)||M.color).draw({x:r,y:t,dotSize:c.dotSize,radius:n.radius})}))},_);function _(t){this.qrcodeArray=[],this.dotSize=0,this.offset=0;var e=t.canvas,r=t.content,n=t.width,n=void 0===n?C:n,o=t.nodeQrCodeOptions,o=void 0===o?{}:o,i=(o.errorCorrectionLevel=o.errorCorrectionLevel||(36<(i=r).length?"M":16<i.length?"Q":"H"),a.a.create(r,o));this.canvas=e,this.options=t,this.canvas.setAttribute("width",n+""),this.canvas.setAttribute("height",n+""),this.saveQrdata(i)}var r=e(8),N=function(t,a,s,u){return new(s=s||Promise)(function(r,e){function n(t){try{i(u.next(t))}catch(t){e(t)}}function o(t){try{i(u.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?r(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(n,o)}i((u=u.apply(t,a||[])).next())})},z=function(n,o){var i,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function t(r){return function(t){var e=[r,t];if(i)throw new TypeError("Generator is already executing.");for(;u=c&&e[c=0]?0:u;)try{if(i=1,a&&(s=2&e[0]?a.return:e[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,e[1])).done)return s;switch(a=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,a=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3]))u.label=e[1];else if(6===e[0]&&u.label<s[1])u.label=s[1],s=e;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(e)}}e=o.call(n,u)}catch(t){e=[6,t],a=0}finally{i=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}}};function L(e){var r=this;this.ifCanvasDrawed=!1,this.ifImageCreated=!1,this.drawImagePromiseResolve=[],this.drawImagePromiseReject=[],this.drawCanvasPromiseResolve=[],this.drawCanvasPromiseReject=[],this.defaultOption={canvas:void 0,image:void 0,content:"",width:C,download:K,downloadName:P,nodeQrCodeOptions:{},cornersOptions:{},dotsOptions:{}};try{this.options=Object.assign(this.defaultOption,e),this.options.canvas||(this.options.canvas=document.createElement("canvas")),this.options.image||(this.options.image=document.createElement("img")),this._toCanvas().then(function(){return r._toImage()}).catch(function(t){null!=e&&e.onError&&u(e.onError)&&e.onError(t),r.batchRunFunction("drawCanvasPromiseReject",t),r.batchRunFunction("drawImagePromiseReject",t)})}catch(t){null!=e&&e.onError&&u(e.onError)&&e.onError(t),this.batchRunFunction("drawCanvasPromiseReject",t),this.batchRunFunction("drawImagePromiseReject",t)}}L.prototype.drawImagePromise=function(){var r=this;return this.ifImageCreated?Promise.resolve():new Promise(function(t,e){r.drawImagePromiseResolve.push(t),r.drawImagePromiseReject.push(e)})},L.prototype.drawCanvasPromise=function(){var r=this;return this.ifCanvasDrawed?Promise.resolve():new Promise(function(t,e){r.drawCanvasPromiseResolve.push(t),r.drawCanvasPromiseReject.push(e)})},L.prototype.toCanvas=function(){throw new Error("toCanvas has been Deprecated!")},L.prototype.toImage=function(){throw new Error("toImage has been Deprecated!")},L.prototype._toCanvas=function(){var t=this;return new W(this.options).init().then(function(){t.ifCanvasDrawed=!0,t.batchRunFunction("drawCanvasPromiseResolve")})},L.prototype._toImage=function(){return N(this,void 0,void 0,function(){var e=this;return z(this,function(t){return[2,function(i){return n(this,void 0,void 0,function(){var e,r,n,o;return s(this,function(t){if(o=i.canvas,e=i.download,r=i.image,n=i.downloadName,o.toDataURL())return r.src=o.toDataURL(),!0===e||u(e)?(o=function(){return c(r,n)},(e=!0===e?function(t){return t()}:e)?[2,e(o)]:[2,Promise.resolve()]):[2];throw new Error("Can not get the canvas DataURL")})})}(this.options).then(function(){e.ifImageCreated=!0,e.batchRunFunction("drawImagePromiseResolve")})]})})},L.prototype.batchRunFunction=function(t,e){void 0===e&&(e=null);var r=this[t];Array.isArray(r)&&(r.forEach(function(t){u(t)&&t(e)}),this[t].length=0)},L.prototype.downloadImage=function(){return N(this,arguments,void 0,function(e){return void 0===e&&(e=P),z(this,function(t){switch(t.label){case 0:return[4,this.drawImagePromise()];case 1:return t.sent(),[2,c(this.options.image,e)]}})})},L.prototype.getImage=function(){return N(this,void 0,void 0,function(){return z(this,function(t){switch(t.label){case 0:return[4,this.drawImagePromise()];case 1:return t.sent(),[2,this.options.image]}})})},L.prototype.getCanvas=function(){return N(this,void 0,void 0,function(){return z(this,function(t){switch(t.label){case 0:return[4,this.drawCanvasPromise()];case 1:return t.sent(),[2,this.options.canvas]}})})},L.version=r.a;t.default=L}],n={},o.m=r,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=30).default;function o(t){var e;return(n[t]||(e=n[t]={i:t,l:!1,exports:{}},r[t].call(e.exports,e,e.exports,o),e.l=!0,e)).exports}var r,n});